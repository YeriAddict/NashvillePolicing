[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Nashville Policing",
    "section": "",
    "text": "1 Introduction\nMost drivers in America are familiar with the situation of getting pulled over while on the road. The reasons can be anything from speeding to a having a broken tail light, which are obvious examples of law-breaking. More serious grounds could be if the driver possessed any contraband items. The results of these traffic stops may range to a simple warning to a ticket or citation. One might wonder if there there is any patterns to how police survey the population looking for illegal activity on the road. Indeed, there has been much research already done on this front, such as an article by the New York Times “Confronting Implicit Bias in the New York Police Department.” There have been countless articles such as this one detailing the unconscious racial biases present in police departments towards minorities and especially Blacks. However, this story is not simply limited to race. For this project, we wish to uncover a larger story of police stops using a variety of features outside of only demographics.\nWe will use data from policing records provided by the Stanford Computational Journalism Lab, the Knight Foundation, and the Stanford Computational Policy Lab. There is data collected from almost one hundred major cities around the United States, but we chose to focus on the records from Nashville, Tennessee.\nWe are interested in how different features of the traffic stop are related to one another, including its temporal aspect, its geographic location, and the demographic data of the driver. It may be interesting to see if more people are stopped during a certain time of day (such as rush hour) or at a busy location (such as a large intersection). Maybe there is a distinction between the brand of car driven or the age of the vehicle and if the driver will be pulled over. Additionally, there are certain stereotypes about race and driving that may also be evident. Are Asians really the worst drivers? Are male drivers more reckless? These are among the questions that we plan to investigate through exploration of our data."
  },
  {
    "objectID": "data.html#technical-description",
    "href": "data.html#technical-description",
    "title": "2  Data",
    "section": "2.1 Technical Description",
    "text": "2.1 Technical Description\nThe data we are interested in originates from The Stanford Open Policing Project found here. This project aims to compile diverse information concerning police stops and crimes across multiple cities in the USA. The project is lead by a group of researchers and journalists at Stanford University and the data is requested from law enforcement agencies. Each city possesses its own CSV/R data file with distinct data columns, as policies may vary due to differing state or city laws. For a comprehensive description of the various column types within the datasets, this README provides an exhaustive overview of the data. Each row in the dataset represents a stop that occurred in a particular city.\nWe have decided to choose the dataset for Nashville (Tennessee) because it has the most comprehensive features among all of the cities while also having a significant number of stops. This will give us more flexibility for a deeper analysis and to provide well-thought-out answers to our questions.\nThe initial dataset has:\n\nRows: 3092351\nColumns: 42\nData timeframe: 2010 to 2019\nFile size: 100 MB\nFile type: rds file\n\nThe table below provides a description of all columns, including their type and meaning, accompanied by an example:\n\n\nTable 2.1: Columns description for Nashville (TN)\n\n\n\n\n\n\n\n\nColumn\nType\nDescription\nExample\n\n\n\n\nraw_row_number\nnumeric\nRow number used to join clean data back to raw data\n3092350\n\n\ndate\nstring\nDate in “YYYY-MM-DD” format\n2016-09-09\n\n\ntime\nstring\nTime in “HH:MM:SS” format\n21:57:00\n\n\nlocation\nstring\nAddress in “Street, City, State, Zipcode”\nI 40 W & CHARLOTTE AVE, NASHVILLE, TN, 37203\n\n\nlat\nnumeric\nLatitude\n36.063321\n\n\nlng\nnumeric\nLongitude\n-86.637409\n\n\nprecinct\nnumeric\nPolice precinct\n2.0\n\n\nreporting_area\nnumeric\nPolice reporting area\n1863.0\n\n\nzone\nnumeric\nPolice zone\n223.0\n\n\nsubject_age\nnumeric\nAge of the stopped subject\n18.0\n\n\nsubject_race\nstring\nRace of the stopped subject\nhispanic\n\n\nsubject_sex\nstring\nSex of the stopped subject\nfemale\n\n\nofficer_id_hash\nstring\nUnique officer ID hash\ne7099bc91c\n\n\ntype\nstring\nType of stop: vehicular or pedestrian\nvehicular\n\n\nviolation\nstring\nSpecific violation of stop\nvehicle equipment violation\n\n\narrest_made\nbool\nIndicates whether an arrest was made\nFalse\n\n\ncitation_issued\nbool\nIndicates whether a citation was issued\nFalse\n\n\nwarning_issued\nbool\nIndicates whether a warning was issued\nFalse\n\n\noutcome\nstring\nIndicates whether one of these actions have been taken (arrest, citation, warning and summons)\ncitation\n\n\ncontraband_found\nbool\nIndicates whether a contraband was found\nFalse\n\n\ncontraband_drugs\nbool\nIndicates whether drugs were found\nFalse\n\n\ncontraband_weapons\nbool\nIndicates whether weapons were found\nFalse\n\n\nfrisk_performed\nbool\nIndicates whether a frisk was performed\nFalse\n\n\nsearch_conducted\nbool\nIndicates whether a search was conducted\nFalse\n\n\nsearch_person\nbool\nIndicates whether a person was searched\nFalse\n\n\nsearch_vehicle\nbool\nIndicates whether a vehicle was searched\nFalse\n\n\nsearch_basis\nstring\nProvides the reason for the search (k9, consent, plain view, probable cause, other)\nconsent\n\n\nreason_for_stop\nstring\nProvides the reason for the stop\nmoving traffic violation\n\n\nvehicle_registration_state\nstring\nVehicle state origin (ex: TN for Tennessee)\nTN\n\n\nnotes\nstring\nContains officer notes\nCITED FOR NOT HAVING INSURANCE\n\n\nraw_verbal_warning_issued\nbool\nIndicates whether a verbal warning was issued\nFalse\n\n\nraw_written_warning_issued\nbool\nIndicates whether a written warning was issued\nFalse\n\n\nraw_traffic_citation_issued\nbool\nIndicates whether a traffic citation was issued\nFalse\n\n\nraw_misd_state_citation_issued\nbool\nIndicates whether a misd state citation was issued\nFalse\n\n\nraw_suspect_ethnicity\nstring\nEthnicity of the suspect\nH\n\n\nraw_driver_searched\nbool\nIndicates whether a driver was searched\nFalse\n\n\nraw_passenger_searched\nbool\nIndicates whether a passenger was searched\nFalse\n\n\nraw_search_consent\nbool\nIndicates whether a search was consent\nFalse\n\n\nraw_search_arrest\nbool\nIndicates whether a search was due to an arrest\nFalse\n\n\nraw_search_warrant\nbool\nIndicates whether a search warrant was issued\nFalse\n\n\nraw_search_inventory\nbool\nIndicates whether an inventory search\nFalse\n\n\nraw_search_plain_view\nbool\nIndicates whether evidence was seized without a warrant\nFalse\n\n\n\n\nSee Table 2.1.\nThe data file has been downloaded locally and is available inside the repository as it is not too large. However, we noticed some patterns with missing values that we will touch on later. Combined with the fact that there are over three million rows spanning almost a decade, we decided to subset the data for ease of analysis and computation speed. Our subsetted data includes only data from 2012-2016."
  },
  {
    "objectID": "data.html#research-plan",
    "href": "data.html#research-plan",
    "title": "2  Data",
    "section": "2.2 Research Plan",
    "text": "2.2 Research Plan\nStudying trends in Nashville traffic stops provides insights into the bigger picture of law enforcement and social dynamics. One can consider any of the many factors that contribute to why someone is stopped to understand policing strategy more. The type of car someone drives may be more scrutinized by an officer, and this may differ according to time of day or day of wekk. Analyzing the intersection of race, gender, and age among those stopped can shed light on potential underlying biases in policing. Through our dive on the policing patterns in Nashville, we hope to tell a more transparent story of the law enforcement system.\nWe plan to touch on several research areas using our data:\n\nTo what extent do spatiotemporal factors play a part in traffic stops? This includes features like geographic location and time of day.\nWhat are the demographic patterns of those stopped? Are those of a certain gender, age, or race overrepresented in their number of traffic stops?\nWhat do the outcomes of traffic stops look like? To answer this we will look at if the suspect was searched, if a ticket was issued, etc.\nAre there patterns in the types of cars that are stopped?"
  },
  {
    "objectID": "data.html#missing-value-analysis",
    "href": "data.html#missing-value-analysis",
    "title": "2  Data",
    "section": "2.3 Missing value analysis",
    "text": "2.3 Missing value analysis\n\n\nCode\nlibrary(tidyverse)\nlibrary(lubridate)\n\nnashville &lt;- readRDS('Datasets/yg821jf8611_tn_nashville_2020_04_01.rds')\nna_rate &lt;- data.frame(\"Variable\" = colnames(nashville), \n                \"na_prop\" = sapply(nashville, function(y) sum(length(which(is.na(y))))) / nrow(nashville)) |&gt; \n  arrange(na_prop)\n\nna_rate |&gt; \n  mutate(Variable = factor(Variable, levels = na_rate$Variable)) |&gt; \n  ggplot(aes(x = Variable, y = na_prop)) +\n  geom_col() +\n  coord_flip() + \n  labs(y = \"Proportion of NA's \") + \n  ggtitle(\"Proportion of NA Values by Variable\") +\n  theme_bw(13)\n\n\n\n\n\nThe majority of features have very few or zero missing values. We see that there are four columns (search_basis, contraband_weapons, contraband_found, notes) with a very high percentage of missing values (&gt;75%). This is likely due to officers not taking records in these columns, so we will not consider these four features in our analysis moving forward.\n\n\nCode\nnashville |&gt; \n  mutate(year = year(date)) |&gt; \n  select(year, raw_misd_state_citation_issued, raw_written_warning_issued, zone,\n         precinct, reporting_area, lat, lng) |&gt; \n  group_by(year) |&gt; \n  summarise_each(list(na_count = ~mean(is.na(.)))) |&gt; \n  pivot_longer(!year) |&gt; \n  mutate(name = sub(\"_na_count$\", \"\", name)) |&gt; \n  ggplot(aes(x = name, y = value, fill = name)) + \n  geom_col() +\n  coord_flip() +\n  labs(y = \"Proportion of NA's\", x = \"Variable\") + \n  ggtitle(\"Proportion of NA's Faceted by Year\")+\n  facet_wrap(~year) +\n  theme_bw(13) + \n  theme(axis.text.y=element_blank(),\n        axis.ticks.y=element_blank(),\n        legend.position=\"bottom\") +\n  scale_y_continuous(breaks = c(0, .5, 1),\n    labels = c('0', '0.5', '1')) \n\n\n\n\n\nTo further analyze trends in missing values, we faceted the percent of missing values by year for a few of the variables with a most number of missing values after excluding the four variables discussed above. We see that in 2017-2019, there is no data for raw_written_warning_issued, and from 2010-2011 the column raw_misd_state_citation_issued is mostly empty. This may be due to changes in notation over time.\nWith the fact that there are over three million rows in mind, we decide to subset our data to 2014 only for a more manageable size. Our subsetted data has 413,114 rows.\nAs we move forward with our analysis, we want to keep as much data as possible. Furthermore, most of the columns have zero or only a handful missing values. For these reasons we did not remove incomplete rows with NA’s; instead we will drop missing observations if needed and only for the columns analyzed in the current plot."
  },
  {
    "objectID": "results.html",
    "href": "results.html",
    "title": "3  Results",
    "section": "",
    "text": "Code\nlibrary(tidyverse)\nlibrary(lubridate)\nlibrary(GGally)\nlibrary(vcd)\nlibrary(gridExtra)\nlibrary(ggalluvial)\n\nload('Datasets/nashville_2014.RData')\n\nnashville &lt;- nashville_2014 |&gt; \n  select(-c(search_basis, contraband_weapons, contraband_found, notes))\n\n\n\n3.0.1 Temporal Aspects\nThe first step of our exploratory data analysis involves seeing how the number of traffic stops evolved throughout 2014. Since traffic, and therefore driving habits, varies heavily by seasonal factors as well as daily habits, we plot a line graph segmented by day of the week. We see that there are clearly fewer traffic stops occurring on the weekend, which is likely due to the lack of rush hour traffic and its associated stress. There are three outliers to this trend, indicated by the very few traffic stops occuring on Thanksgiving, Christmas Eve, and Christmas Day.\n\n\nCode\nnashville |&gt; \n  mutate(Day = wday(date, label = TRUE)) |&gt; \n  group_by(date, Day) |&gt; \n  summarise(count = n()) |&gt; \n  ggplot(aes(x = date, y = count, color = Day)) + \n  geom_point(size = 0.5) +\n  geom_line() +\n  theme_bw(13) +\n  labs(x = \"Date\", y = \"Stop Count\") +\n  ggtitle(\"Stop Count by Day of Week\")\n\n\n\n\n\nFor completeness we also included the breakdown by hour of day, which verifies our intuition that there are fewer stops during the early morning hours and a spike in during rush hours from 9-10AM and 4-5PM.\n\n\nCode\nnashville |&gt; \n  mutate(Day = wday(date, label = TRUE),\n         Hour = hour(time)) |&gt; \n  group_by(Day, Hour) |&gt; \n  summarise(count = n()) |&gt; \n  ggplot(aes(x = Hour, y = count, color = Day)) + \n  geom_point(size = 0.5) +\n  geom_line() +\n  theme_bw(13) +\n  scale_x_discrete(limits=0:23) + \n  labs(x = \"Hour\", y = \"Stop Count\") +\n  ggtitle(\"Stop Count by Hour of the Day\") \n\n\n\n\n\n\n\n3.0.2 Demographic Data\n\n\nCode\nnashville |&gt; \n  select(violation, subject_sex) |&gt; \n  drop_na() |&gt; \n  ggplot(aes(y = violation, fill = subject_sex)) + \n  geom_bar(position='fill') + \n  labs(x = \"Violation\", y = \"Proportion\") + \n  ggtitle(\"Violation Comparison Between Genders\") + \n  scale_fill_manual(values = c(\"#82A2CA\", \"pink2\"),\n                    name = \"Gender\") + \n  theme_bw(13) +\n  geom_vline(xintercept = .412)+\n  scale_x_continuous(breaks = c(0, 0.25, 0.41, 0.5, 0.75, 1), \n                     labels = c(0, 0.25, 0.41, 0.5, 0.75, 1))\n\n\n\n\n\n\n\nCode\np1 &lt;- nashville |&gt; \n  select(arrest_made, subject_age) |&gt; \n  rename(\"Age\" = subject_age) |&gt; \n  drop_na() |&gt; \n  ggplot(aes(y = arrest_made, x = Age, color = arrest_made)) +\n  geom_boxplot() + \n  labs(y = \"Arrest Made\") +\n  theme_bw() + \n  theme(legend.position=\"none\") \n\np2 &lt;- nashville |&gt; \n  select(warning_issued, subject_age) |&gt; \n  rename(\"Age\" = subject_age) |&gt; \n  drop_na() |&gt; \n  ggplot(aes(y = warning_issued, x = Age, color = warning_issued)) +\n  geom_boxplot() + \n  labs(y = \"Warning Issued\") +\n  theme_bw() + \n  theme(legend.position=\"none\") \n\np3 &lt;- nashville |&gt; \n  select(search_vehicle, subject_age) |&gt; \n  rename(\"Age\" = subject_age) |&gt; \n  drop_na() |&gt; \n  ggplot(aes(y = search_vehicle, x = Age, color = search_vehicle)) +\n  geom_boxplot() + \n  labs(y = \"Search Vehicle\") +\n  theme_bw() + \n  theme(legend.position=\"none\") \n\np4 &lt;- nashville |&gt; \n  select(search_person, subject_age) |&gt; \n  rename(\"Age\" = subject_age) |&gt; \n  drop_na() |&gt; \n  ggplot(aes(y = search_person, x = Age, color = search_person)) +\n  geom_boxplot() + \n  labs(y = \"Search Person\") +\n  theme_bw() + \n  theme(legend.position=\"none\") \n\ngrid.arrange(p1, p2, p3, p4, top = \"Distribution of Age Across Outcomes\")\n\n\n\n\n\n\n\nCode\nnashville |&gt; \n  select(subject_race, subject_sex, arrest_made, citation_issued, \n         warning_issued, frisk_performed, search_conducted, \n         search_person, search_vehicle) |&gt; \n  drop_na() |&gt; \n  group_by(subject_race, subject_sex) |&gt; \n  summarise(arrest_made = mean(arrest_made),\n            citation_issued = mean(citation_issued),\n            warning_issued = mean(warning_issued),\n            frisk_performed = mean(frisk_performed),\n            search_conducted = mean(search_conducted),\n            search_person = mean(search_person),\n            search_vehicle = mean(search_vehicle)) |&gt; \n  mutate(Group = paste(subject_race, subject_sex, sep = \"_\")) |&gt; \n  ggparcoord(columns = 3:9, groupColumn = \"Group\") +\n  scale_color_manual(values = c(\n    \"#a6cee3\", \"#164e74\",\n    \"#b2df8a\", \"#2a7e1b\",\n    \"#ababab\", \"#000000\",\n    \"#ffc07d\", \"#ff6600\",\n    \"#cab2d6\", \"#583380\",\n    \"#ff99ff\", \"#ff44ff\")) +\n  theme_bw(13) + \n  ggtitle(\"Stop Outcomes by Race and Gender\") +\n  theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust=1))\n\n\n\n\n\n\n\nCode\nmosaic_data &lt;- nashville |&gt; \n  mutate(subject_race = ifelse(subject_race %in% \n        c(\"asian/pacific islander\", \"unknown\", \"other\", \"hispanic\"), \"other\", \n        as.character(subject_race))) |&gt; \n  mutate(Age = case_when(subject_age &lt; 25 ~ \"&lt;25\",\n                         subject_age &lt; 35 ~ \"25-34\",\n                         subject_age &lt; 45 ~ \"35-44\",\n                         TRUE ~ \"45+\")) |&gt; \n  rename(\"Gender\" = \"subject_sex\",\n         \"Race\" = \"subject_race\") \n\nall_xtabs &lt;- mosaic_data |&gt; \n  xtabs(formula = ~ search_person + Gender + Age + Race)\n\nmale_xtabs &lt;- mosaic_data |&gt; \n  filter(Gender == \"male\") |&gt; \n  xtabs(formula = ~ search_person + Age + Race)\n\nfemale_xtabs &lt;- mosaic_data |&gt; \n  filter(Gender == \"female\") |&gt; \n  xtabs(formula = ~ search_person + Age + Race)\n\nmosaic(search_person ~ Age + Race, male_xtabs, \n       direction = c(\"v\", \"v\", \"h\"),\n       rot_labels = c(0, 0, 45, 90),\n       main = \"Search Person: Males\")\n\n\n\n\n\nCode\nmosaic(search_person ~ Age + Race, female_xtabs, \n       direction = c(\"v\", \"v\", \"h\"),\n       rot_labels = c(0, 0, 45, 90),\n       main = \"Search Person: Females\")\n\n\n\n\n\n\n\n3.0.3 Geographic Elements\n\n\nCode\nnashville |&gt; \n  filter(precinct %in% as.character(1:8)) |&gt; \n  select(precinct, reason_for_stop) |&gt; \n  rename(\"Reason for Stop\" = reason_for_stop) |&gt; \n  drop_na() |&gt; \n  ggplot(aes(x = precinct, fill = `Reason for Stop`)) + \n  geom_bar(position='fill') + \n  labs(x = \"Precinct\", y = \"Proportion\") + \n  ggtitle(\"Reasons for Stop Across Precincts\") + \n  scale_fill_manual(values = c(\"#66c2a5\", \"#fc8d62\", \"#82A2CA\", \"#f99aa4\", \n                               \"#ffd920\", \"#aec57b\", \"#e19c5a\", \"#ad8db3\"),\n                    name = \"Reason for Stop\") + \n  theme_bw(13)\n\n\n\n\n\n\n\nCode\nnashville |&gt;\n  filter(precinct %in% as.character(1:8)) |&gt; \n  mutate(Hour = hour(time)) |&gt; \n  group_by(Hour, precinct) |&gt; \n  summarise(count = n()) |&gt; \n  ggplot(aes(x = Hour, y = count, color = precinct)) + \n  geom_point(size = 0.5) +\n  geom_line() +\n  theme_bw(13) +\n  scale_x_discrete(limits=0:23) + \n  labs(x = \"Hour\", y = \"Stop Count\") +\n  ggtitle(\"Stop Count by Hour of the Day\") \n\n\n\n\n\n\n\nCode\nnashville |&gt; \n  filter(precinct %in% as.character(1:8)) |&gt; \n   mutate(subject_race = ifelse(subject_race %in% \n        c(\"asian/pacific islander\", \"unknown\", \"other\", \"hispanic\"), \"other\", \n        as.character(subject_race))) |&gt; \n  select(precinct, subject_race) |&gt; \n  drop_na() |&gt; \n  ggplot(aes(x = precinct, fill = subject_race)) + \n  geom_bar(position='fill') + \n  labs(x = \"Precinct\", y = \"Proportion\") + \n  ggtitle(\"Reasons for Stop Across Precincts\") + \n  scale_fill_manual(values = c(\"#aec57b\", \"#ad8db3\", \"#82A2CA\"),\n                    name = \"Reason for Stop\") + \n  theme_bw(13)\n\n\n\n\n\n\n\nCode\nnashville |&gt; \n  filter(precinct %in% as.character(1:8)) |&gt; \n  select(precinct, arrest_made, citation_issued, \n         warning_issued, frisk_performed, search_conducted, \n         search_person, search_vehicle) |&gt; \n  drop_na() |&gt; \n  group_by(precinct) |&gt; \n  summarise(arrest_made = mean(arrest_made),\n            citation_issued = mean(citation_issued),\n            warning_issued = mean(warning_issued),\n            frisk_performed = mean(frisk_performed),\n            search_conducted = mean(search_conducted),\n            search_person = mean(search_person),\n            search_vehicle = mean(search_vehicle)) |&gt; \n  ggparcoord(columns = 2:8, groupColumn = \"precinct\") +\n  theme_bw(13) + \n  ggtitle(\"Stop Outcomes by Race and Gender\") +\n  theme(axis.text.x = element_text(angle = 25, vjust = 1, hjust=1))"
  },
  {
    "objectID": "results.html#temporal-aspects",
    "href": "results.html#temporal-aspects",
    "title": "3  Results",
    "section": "3.1 Temporal Aspects",
    "text": "3.1 Temporal Aspects\n\n\nCode\nnashville |&gt; \n  mutate(Day = wday(date, label = TRUE)) |&gt; \n  group_by(date, Day) |&gt; \n  summarise(count = n()) |&gt; \n  ggplot(aes(x = date, y = count, color = Day)) + \n  geom_point(size = 0.5) +\n  geom_line() +\n  theme_bw(13) +\n  labs(x = \"Date\", y = \"Stop Count\") +\n  ggtitle(\"Stop Count by Day of Week\")\n\n\n\n\n\nThe first step of our exploratory data analysis involves seeing how the number of traffic stops evolved throughout 2014. Since traffic, and therefore driving habits, varies heavily by seasonal factors as well as daily habits, we plot a line graph segmented by day of the week. We see that there are clearly fewer traffic stops occurring on the weekend, which makes sense since there are fewer cars on the road then. There is also no rush hour traffic and its associated stress. There are three outliers to this trend, indicated by the very few traffic stops occuring on Thanksgiving, Christmas Eve, and Christmas Day.\n\n\nCode\nnashville |&gt; \n  mutate(Day = wday(date, label = TRUE),\n         Hour = hour(time)) |&gt; \n  group_by(Day, Hour) |&gt; \n  summarise(count = n()) |&gt; \n  ggplot(aes(x = Hour, y = count, color = Day)) + \n  geom_point(size = 0.5) +\n  geom_line() +\n  theme_bw(13) +\n  scale_x_discrete(limits=0:23) + \n  labs(x = \"Hour\", y = \"Stop Count\") +\n  ggtitle(\"Stop Count by Hour of the Day\") \n\n\n\n\n\nWe also include the breakdown by hour of day, which verifies our intuition that there are fewer stops during the early morning hours and a spike in stops during rush hours from 9-10AM and 4-5PM. Note that there is also a spike in stops during lunch hour on weekdays (12-1PM) and dinner hour on Fridays only (8-9PM)."
  },
  {
    "objectID": "results.html#demographic-data",
    "href": "results.html#demographic-data",
    "title": "3  Results",
    "section": "3.2 Demographic Data",
    "text": "3.2 Demographic Data\nOne of our main areas of interest is the demographic features of the people stopped.\n\n\nCode\nnashville |&gt; \n  select(violation, subject_sex) |&gt; \n  drop_na() |&gt; \n  ggplot(aes(y = violation, fill = subject_sex)) + \n  geom_bar(position='fill') + \n  labs(x = \"Violation\", y = \"Proportion\") + \n  ggtitle(\"Violation Comparison Between Genders\") + \n  scale_fill_manual(values = c(\"#82A2CA\", \"pink2\"),\n                    name = \"Gender\") + \n  theme_bw(13) +\n  geom_vline(xintercept = .412)+\n  scale_x_continuous(breaks = c(0, 0.25, 0.41, 0.5, 0.75, 1), \n                     labels = c(0, 0.25, 0.41, 0.5, 0.75, 1))\n\n\n\n\n\nNow we shift the analysis from the number of stops to the type of violation and its outcome. A primary area of interest is how demographic data is linked to these variables. Above is a stacked bar chart comparing the type of violations between genders. The global percentage of female violations is 41.2%, indicated by the vertical black line. Based on this, we see that women are overrepresented in the child restraint category, which deals with proper safety seats/infant carriers for children. Men are overrepresented in seatbelt violations, parking violations, and investigative stops. The remaining categories are very close to the global average.\n\n\nCode\np1 &lt;- nashville |&gt; \n  select(arrest_made, subject_age) |&gt; \n  rename(\"Age\" = subject_age) |&gt; \n  drop_na() |&gt; \n  ggplot(aes(y = arrest_made, x = Age, color = arrest_made)) +\n  geom_boxplot() + \n  labs(y = \"Arrest Made\") +\n  theme_bw() + \n  theme(legend.position=\"none\") \n\np2 &lt;- nashville |&gt; \n  select(warning_issued, subject_age) |&gt; \n  rename(\"Age\" = subject_age) |&gt; \n  drop_na() |&gt; \n  ggplot(aes(y = warning_issued, x = Age, color = warning_issued)) +\n  geom_boxplot() + \n  labs(y = \"Warning Issued\") +\n  theme_bw() + \n  theme(legend.position=\"none\") \n\np3 &lt;- nashville |&gt; \n  select(search_vehicle, subject_age) |&gt; \n  rename(\"Age\" = subject_age) |&gt; \n  drop_na() |&gt; \n  ggplot(aes(y = search_vehicle, x = Age, color = search_vehicle)) +\n  geom_boxplot() + \n  labs(y = \"Search Vehicle\") +\n  theme_bw() + \n  theme(legend.position=\"none\") \n\np4 &lt;- nashville |&gt; \n  select(search_person, subject_age) |&gt; \n  rename(\"Age\" = subject_age) |&gt; \n  drop_na() |&gt; \n  ggplot(aes(y = search_person, x = Age, color = search_person)) +\n  geom_boxplot() + \n  labs(y = \"Search Person\") +\n  theme_bw() + \n  theme(legend.position=\"none\") \n\ngrid.arrange(p1, p2, p3, p4, top = \"Distribution of Age Across Outcomes\")\n\n\n\n\n\nThe boxplots above show how age varies between different outcomes, including warnings, arrests, and searches. We see that overall the distrution of people is younger if there was an arrest made or the driver or car was searched. However, if only a warning was issued, the person is likely to be older. This implies that younger people receive harsher treatment at traffic stops, while people who receive a warning are older.\n\n\nCode\nnashville |&gt; \n  select(subject_race, subject_sex, arrest_made, citation_issued, \n         warning_issued, frisk_performed, search_conducted, \n         search_person, search_vehicle) |&gt; \n  drop_na() |&gt; \n  group_by(subject_race, subject_sex) |&gt; \n  summarise(arrest_made = mean(arrest_made),\n            citation_issued = mean(citation_issued),\n            warning_issued = mean(warning_issued),\n            frisk_performed = mean(frisk_performed),\n            search_conducted = mean(search_conducted),\n            search_person = mean(search_person),\n            search_vehicle = mean(search_vehicle)) |&gt; \n  mutate(Group = paste(subject_race, subject_sex, sep = \"_\")) |&gt; \n  ggparcoord(columns = 3:9, groupColumn = \"Group\") +\n  scale_color_manual(values = c(\n    \"#a6cee3\", \"#164e74\",\n    \"#b2df8a\", \"#2a7e1b\",\n    \"#ababab\", \"#000000\",\n    \"#ffc07d\", \"#ff6600\",\n    \"#cab2d6\", \"#583380\",\n    \"#ff99ff\", \"#ff44ff\")) +\n  theme_bw(13) + \n  ggtitle(\"Stop Outcomes by Race and Gender\") +\n  theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust=1))\n\n\n\n\n\nWe wish to see a breakdown of all of the outcomes by race and gender, which is shown in the parallel coordinates plot above. (Note that the colors are paired by race.) From the graph, it is evident that men of color are the most likely to be frisked or searched. Hispanic and Black men are the top group in 5 out of the 7 outcomes, while Asian/Pacific Islander women are at the bottom for these outomes. Men are almost always ranked above their female conterparts, except when a citation or warning is issued. Additionally, we see a trade-off between citations and warnings, where low citation rates correspond to high warning rates and vice versa. Intuitively this makes sense, since warnings are a laxer outcome compared to a formal citation.\nNote that we kept all of the original race categories from the data for this plot. Since there are very few observations in the Hispanic, AAPI, other, and unknown groups, moving forward we will group the races according to White/Black/Other.\n\n\nCode\nmosaic_data &lt;- nashville |&gt; \n  mutate(subject_race = ifelse(subject_race %in% \n        c(\"asian/pacific islander\", \"unknown\", \"other\", \"hispanic\"), \"other\", \n        as.character(subject_race))) |&gt; \n  mutate(Age = case_when(subject_age &lt; 25 ~ \"&lt;25\",\n                         subject_age &lt; 35 ~ \"25-34\",\n                         subject_age &lt; 45 ~ \"35-44\",\n                         TRUE ~ \"45+\")) |&gt; \n  rename(\"Gender\" = \"subject_sex\",\n         \"Race\" = \"subject_race\") \n\nall_xtabs &lt;- mosaic_data |&gt; \n  xtabs(formula = ~ search_person + Gender + Age + Race)\n\nmale_xtabs &lt;- mosaic_data |&gt; \n  filter(Gender == \"male\") |&gt; \n  xtabs(formula = ~ search_person + Age + Race)\n\nfemale_xtabs &lt;- mosaic_data |&gt; \n  filter(Gender == \"female\") |&gt; \n  xtabs(formula = ~ search_person + Age + Race)\n\nmosaic(search_person ~ Age + Race, male_xtabs, \n       direction = c(\"v\", \"v\", \"h\"),\n       rot_labels = c(0, 0, 45, 90),\n       main = \"Search Person: Males\")\n\n\n\n\n\nCode\nmosaic(search_person ~ Age + Race, female_xtabs, \n       direction = c(\"v\", \"v\", \"h\"),\n       rot_labels = c(0, 0, 45, 90),\n       main = \"Search Person: Females\")\n\n\n\n\n\nAfter we have considered race, age, and gender separately, a mosaic plot can help us visualize all of these variables simultaneously. Here the response variable is if the driver was searched or not. Between the two plots, it is clear that women are searched less frequently than men across all age and race categories. In general, older people are searched with a smaller proportion, and Black individuals are searched with the greatest proportion in every subcategory."
  },
  {
    "objectID": "results.html#geographic-elements",
    "href": "results.html#geographic-elements",
    "title": "3  Results",
    "section": "3.3 Geographic Elements",
    "text": "3.3 Geographic Elements\nNashville is broken up into eight precincts. We will analyze the variation between precincts in this section.\n\n\nCode\nnashville |&gt; \n  filter(precinct %in% as.character(1:8)) |&gt; \n  select(precinct, reason_for_stop) |&gt; \n  rename(\"Reason for Stop\" = reason_for_stop) |&gt; \n  drop_na() |&gt; \n  ggplot(aes(x = precinct, fill = `Reason for Stop`)) + \n  geom_bar(position='fill') + \n  labs(x = \"Precinct\", y = \"Proportion\") + \n  ggtitle(\"Reasons for Stop Across Precincts\") + \n  scale_fill_manual(values = c(\"#66c2a5\", \"#fc8d62\", \"#82A2CA\", \"#f99aa4\", \n                               \"#ffd920\", \"#aec57b\", \"#e19c5a\", \"#ad8db3\"),\n                    name = \"Reason for Stop\") + \n  theme_bw(13)\n\n\n\n\n\nIn the stacked bar chart above, we see different distributions of violations across precincts. Notably, precinct 6 has the greatest proportion of moving traffic violations, and precinct 3 has the smallest proportion of vehicle equipment violations. Precinct 7 has the biggest proportion of seatbelt violations. These differences may be due to the factors such as the layout of the city, the amount of traffic, and how urban the precincts are.\n\n\nCode\nnashville |&gt;\n  filter(precinct %in% as.character(1:8)) |&gt; \n  mutate(Hour = hour(time)) |&gt; \n  group_by(Hour, precinct) |&gt; \n  summarise(count = n()) |&gt; \n  ggplot(aes(x = Hour, y = count, color = precinct)) + \n  geom_point(size = 0.5) +\n  geom_line() +\n  theme_bw(13) +\n  scale_x_discrete(limits=0:23) + \n  labs(x = \"Hour\", y = \"Stop Count\") +\n  ggtitle(\"Stop Count by Hour of the Day by Precinct\") \n\n\n\n\n\nThe differences in precinct are evident by looking at the number of stops by hour segmented by precinct. Clearly, precinct 5 has the most stops during daytime hours (7AM-4PM) but fewer stops for the rest of the day. Conversely, precinct 8 has a medium number of stops during the daytime but the most stops during odd hours such as around midnight. These trends likely reflect both the patrolling patterns of police and the traffic waves in certain areas of the city.\n\n\nCode\nnashville |&gt; \n  filter(precinct %in% as.character(1:8)) |&gt; \n   mutate(subject_race = ifelse(subject_race %in% \n        c(\"asian/pacific islander\", \"unknown\", \"other\", \"hispanic\"), \"other\", \n        as.character(subject_race))) |&gt; \n  select(precinct, subject_race) |&gt; \n  drop_na() |&gt; \n  ggplot(aes(x = precinct, fill = subject_race)) + \n  geom_bar(position='fill') + \n  labs(x = \"Precinct\", y = \"Proportion\") + \n  ggtitle(\"Race Comparisons Across Precincts\") + \n  scale_fill_manual(values = c(\"#aec57b\", \"#ad8db3\", \"#82A2CA\"),\n                    name = \"Race\") + \n  theme_bw(13)\n\n\n\n\n\nFrom the stacked barplot above, we see that the distribution of races also varies by precinct. Precinct 6 has the highest proportion of Black individuals stopped, while precinct 1 has the greatest proportion of White drivers stopped. Visualizing these differences can show the bigger picture of the populations of neighborhoods in Nashville.\n\n\nCode\nnashville |&gt; \n  filter(precinct %in% as.character(1:8)) |&gt; \n  select(precinct, arrest_made, citation_issued, \n         warning_issued, frisk_performed, search_conducted, \n         search_person, search_vehicle) |&gt; \n  drop_na() |&gt; \n  group_by(precinct) |&gt; \n  summarise(arrest_made = mean(arrest_made),\n            citation_issued = mean(citation_issued),\n            warning_issued = mean(warning_issued),\n            frisk_performed = mean(frisk_performed),\n            search_conducted = mean(search_conducted),\n            search_person = mean(search_person),\n            search_vehicle = mean(search_vehicle)) |&gt; \n  ggparcoord(columns = 2:8, groupColumn = \"precinct\") +\n  theme_bw(13) + \n  ggtitle(\"Stop Outcomes by Precinct\") +\n  theme(axis.text.x = element_text(angle = 25, vjust = 1, hjust=1))\n\n\n\n\n\nFinally, we compare the breakdown of outcomes by precinct. We see that precinct 7 is where individuals are the most likely to be searched. Precinct 4 has the lowest rates of searches and warnings but the highest likelihood of a citation issued. This plot also verifies the tradeoff between citations and warnings that was shown in the parallel coordinates plot by race. Precincts with a high rate of citations also have a low rate of warnings, and the converse holds. To see this, note the trends exhibited by precincts 2 and 4."
  },
  {
    "objectID": "d3graph.html#context",
    "href": "d3graph.html#context",
    "title": "4  Interactive graph",
    "section": "4.1 Context",
    "text": "4.1 Context\nSometimes, cops decide to perform searches on drivers to ensure that the latter do not put public safety at risk in any way. Indeed, there might be a correlation between reckless driving and drug consumption, alcohol consumption and gun possession… We wanted to see in what type of situation a cop would think it is necessary to perform a search on a driver."
  },
  {
    "objectID": "d3graph.html#interactive-barplot",
    "href": "d3graph.html#interactive-barplot",
    "title": "4  Interactive graph",
    "section": "4.2 Interactive barplot",
    "text": "4.2 Interactive barplot\n\n\nNumber of stops per violation type\n\n\n\n\n\nType of violation\n\n\nWe have plotted a bar chart that displays the count for each type of violation. It is possible to check the percentage of searched drivers by simply hovering the mouse over the different bars."
  },
  {
    "objectID": "d3graph.html#interpretation",
    "href": "d3graph.html#interpretation",
    "title": "4  Interactive graph",
    "section": "4.3 Interpretation",
    "text": "4.3 Interpretation\nWe notice that the type of violation that triggers the highest percentage of search is “investigative_stop” with 12.3%. This seems coherent with the nature of the type of stop. Furthermore, child_restraint and seatbelt_violation come next with respectively 4.7% and 4.3%. This might be surprising as these types of violation might not seem too severe."
  }
]